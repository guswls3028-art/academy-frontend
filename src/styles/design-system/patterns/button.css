/* ============================================================================
 * DS BUTTON — 전역 SSOT (단일 진실)
 * - choice 버튼과 동일한 디자인: inset 입체감, 테두리 제거, 크기/의도만 구분
 * - intent: primary / secondary / ghost / danger
 * - size: sm / md / lg (--control-*)
 * ============================================================================ */

/* ======================================================
 * Base — choice 버튼과 동일한 형태·입체감
 * ====================================================== */

.ds-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  min-width: 0;

  min-height: var(--control-md);
  padding: 0 var(--space-4);

  font-size: 13px;
  font-weight: 600;
  line-height: 1;
  color: var(--color-text-primary);

  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  user-select: none;
  white-space: nowrap;

  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.25),
    inset 0 2px 4px rgba(255, 255, 255, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04);

  transition:
    background 160ms ease,
    color 160ms ease,
    box-shadow 160ms ease,
    transform 100ms ease;
}

.ds-button:hover:not(:disabled):not([data-disabled="true"]) {
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 6px rgba(255, 255, 255, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.06);
}

.ds-button:active:not(:disabled):not([data-disabled="true"]) {
  transform: translateY(0);
}

/* ======================================================
 * Size
 * ====================================================== */

.ds-button[data-size="sm"] {
  min-height: var(--control-sm);
  padding: 0 var(--space-3);
  font-size: 12px;
}

.ds-button[data-size="md"] {
  min-height: var(--control-md);
}

.ds-button[data-size="lg"] {
  min-height: var(--control-lg);
  padding: 0 var(--space-5);
  font-size: 14px;
}

/* ======================================================
 * Intent — 톤만 구분, 동일 입체감
 * ====================================================== */

/* Primary — CTA, 강조 (primary 톤) */
.ds-button[data-intent="primary"] {
  background: color-mix(in srgb, var(--color-brand-primary) 22%, var(--scale-Neutral0, #fff));
  color: var(--color-text-primary);
}

.ds-button[data-intent="primary"]:hover:not(:disabled):not([data-disabled="true"]) {
  background: color-mix(in srgb, var(--color-brand-primary) 28%, var(--scale-Neutral0, #fff));
}

/* Secondary — 보조 액션 (neutral 톤) */
.ds-button[data-intent="secondary"] {
  background: color-mix(in srgb, var(--color-border-divider) 10%, var(--color-bg-surface));
  color: var(--color-text-primary);
}

.ds-button[data-intent="secondary"]:hover:not(:disabled):not([data-disabled="true"]) {
  background: color-mix(in srgb, var(--color-border-divider) 16%, var(--color-bg-surface));
}

/* Ghost — 저강도 */
.ds-button[data-intent="ghost"] {
  background: color-mix(in srgb, var(--color-border-divider) 4%, var(--color-bg-surface));
  color: var(--color-text-secondary);
}

.ds-button[data-intent="ghost"]:hover:not(:disabled):not([data-disabled="true"]) {
  background: color-mix(in srgb, var(--color-border-divider) 12%, var(--color-bg-surface));
  color: var(--color-text-primary);
}

/* Danger — 위험 액션 (error 톤) */
.ds-button[data-intent="danger"] {
  background: color-mix(in srgb, var(--color-error) 12%, var(--color-bg-surface));
  color: var(--color-error);
}

.ds-button[data-intent="danger"]:hover:not(:disabled):not([data-disabled="true"]) {
  background: color-mix(in srgb, var(--color-error) 20%, var(--color-bg-surface));
}

/* ======================================================
 * Selection / Toggle (aria-pressed) — 선택 시 링 강조
 * ====================================================== */

.ds-button[aria-pressed="true"] {
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 0 0 2px color-mix(in srgb, var(--color-brand-primary) 25%, transparent);
}

.ds-button[aria-pressed="true"][data-intent="primary"] {
  background: color-mix(in srgb, var(--color-brand-primary) 28%, var(--scale-Neutral0, #fff));
}

.ds-button[aria-pressed="true"]:hover:not(:disabled):not([data-disabled="true"]) {
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.35),
    inset 0 2px 6px rgba(255, 255, 255, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.06),
    0 0 0 2px color-mix(in srgb, var(--color-brand-primary) 30%, transparent);
}

/* ======================================================
 * Focus (Accessibility)
 * ====================================================== */

.ds-button:focus-visible {
  outline: none;
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.25),
    inset 0 2px 4px rgba(255, 255, 255, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 0 0 2px color-mix(in srgb, var(--color-brand-primary) 35%, transparent);
}

/* ======================================================
 * Icon-only
 * ====================================================== */

.ds-button[data-icon-only="true"] {
  padding: 0;
  width: var(--control-md);
}

.ds-button[data-icon-only="true"][data-size="lg"] {
  width: var(--control-lg);
}

.ds-button[data-icon-only="true"][data-size="sm"] {
  width: var(--control-sm);
}

/* ======================================================
 * Loading
 * ====================================================== */

.ds-button[data-loading="true"] {
  pointer-events: none;
}

.ds-button__spinner {
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid color-mix(in srgb, currentColor 28%, transparent);
  border-top-color: currentColor;
  animation: ds-spin 0.9s linear infinite;
}

@keyframes ds-spin {
  to {
    transform: rotate(360deg);
  }
}

/* ======================================================
 * Disabled
 * ====================================================== */

.ds-button:disabled,
.ds-button[data-disabled="true"] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
  transform: none;
}
