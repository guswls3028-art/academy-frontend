/* PATH: src/shared/ui/modal/modal.css
   모달 SSOT — 태두리·헤더·배경·푸터 + 스크롤 본문, 옵션 행(달력·타임스크롤)
   내부 블록(차시 블록, option-row)과 같은 DS 톤으로 통일 */

/* ========== 모달 셸 — 최외곽 마감 (내부 블록과 같은 둥근·부드러운 톤) ========== */
.admin-modal .ant-modal-content {
  /* 모서리 둥글게 (플랫·각짐 방지) */
  border-radius: var(--radius-2xl);
  overflow: hidden;
  /* 테두리: 단선보다 부드럽게 — 얇은 외곽선 + 살짝 블러된 그림자로 마감감 */
  border: 1px solid var(--color-border-divider);
  box-shadow:
    /* 내부 블록과 동일: 상단 하이라이트 + 글로우 + 하단 두께감 */
    inset 0 1px 0 0 rgba(255, 255, 255, 0.12),
    inset 0 2px 8px rgba(255, 255, 255, 0.06),
    inset 0 -1px 0 0 rgba(0, 0, 0, 0.04),
    /* 최외곽: 부드러운 떠있는 느낌 (각진 플랫 방지) */
    0 0 0 1px rgba(0, 0, 0, 0.04),
    var(--elevation-3),
    0 24px 48px -12px rgba(0, 0, 0, 0.18);
  background: var(--color-modal-bg);
}

.admin-modal--confirm .ant-modal-content {
  border-color: color-mix(in srgb, var(--color-error) 28%, var(--color-border-divider));
}

/* ========== 헤더 (상단 액센트 + 블록감) ========== */
.modal-header {
  position: relative;
  padding: var(--space-4) var(--space-5);
  border-bottom: 1px solid var(--color-border-divider);
  background: color-mix(in srgb, var(--color-brand-primary) 4%, var(--color-modal-bg));
  /* 상단 액센트 라인은 블록 하이라이트와 톤 맞춤 */
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
}

.modal-header--confirm {
  background: color-mix(in srgb, var(--color-error) 10%, var(--color-modal-bg));
  box-shadow:
    inset 0 2px 0 0 color-mix(in srgb, var(--color-error) 40%, transparent),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.08);
}

.modal-header--inspect {
  background: color-mix(in srgb, var(--color-text-muted) 6%, var(--color-modal-bg));
}

.modal-header__accent {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  height: 3px;
  border-radius: var(--radius-xl) var(--radius-xl) 0 0;
  opacity: 0.7;
}

.modal-header--action .modal-header__accent {
  background: var(--color-brand-primary);
}

.modal-header--confirm .modal-header__accent {
  background: var(--color-error);
}

.modal-header--inspect .modal-header__accent {
  background: var(--color-text-muted);
}

/* ========== 본문 ========== */
.modal-body {
  padding: var(--space-4) var(--space-5);
  background: var(--color-modal-bg);
}

/* 탭 영역 (헤더와 본문 사이) — 모달 톤과 어울리게 */
.modal-tabs-area {
  padding: var(--space-3) var(--space-5);
  border-bottom: 1px solid var(--color-border-divider);
  background: color-mix(in srgb, var(--color-brand-primary) 2%, var(--color-modal-bg));
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.06);
}

.modal-tabs-area .ds-tabs {
  margin-bottom: var(--space-3);
}

.modal-tabs-area .ds-tab.is-active {
  background: color-mix(in srgb, var(--color-brand-primary) 12%, var(--color-modal-bg));
}

/* ========== 푸터 (헤더와 대칭되는 구분감) ========== */
.modal-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-5);
  border-top: 1px solid var(--color-border-divider);
  background: color-mix(in srgb, var(--color-brand-primary) 2%, var(--color-modal-bg));
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.06);
}

/* ========== 스크롤 본문 · 옵션 행 ========== */

/* 스크롤 가능한 모달 본문 (차시 추가 등 폼 모달) */
.modal-scroll-body {
  width: 100%;
  min-width: 0;
  overflow-x: hidden;
  overflow-y: auto;
  max-height: calc(100vh - 200px);
  display: grid;
  gap: var(--space-6);
}

/* 컴팩트 본문 — 학생/필터 등 필드 많을 때 영역 절약 */
.modal-scroll-body--compact {
  gap: var(--space-4);
}

/* 폼 행 — 2열·3열·1+auto 등 SSOT 배치 (할당 크기에 맞게 정렬) */
.modal-form-row {
  display: grid;
  gap: var(--space-2);
  align-items: center;
}

.modal-form-row--2 {
  grid-template-columns: 1fr 1fr;
}

.modal-form-row--3 {
  grid-template-columns: 1fr 1fr 1fr;
}

.modal-form-row--1-auto {
  grid-template-columns: 1fr auto;
}

.modal-form-row--1-auto-auto {
  grid-template-columns: 1fr auto auto;
}

/* 폼 그룹 컴팩트 (패딩 축소) */
.modal-form-group--compact {
  padding: var(--space-3);
}

/* 폼 그룹 가로 배치 (상태+버튼 등) */
.modal-form-group--row {
  flex-direction: row;
  align-items: center;
  flex-wrap: wrap;
  padding: var(--space-3) var(--space-4);
}

/* 인라인 버튼/액션 묶음 */
.modal-actions-inline {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

/* 안내 문구 — 톤 통일 */
.modal-hint {
  font-size: 11px;
  font-weight: 700;
  color: var(--color-text-muted);
  line-height: 1.5;
}

.modal-hint--block {
  display: block;
  margin-top: var(--space-2);
}

/* 섹션 라벨 (날짜, 시간, 필수 입력 등) — 세션 모달과 동일 */
.modal-section-label {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
}

/* 폼 그룹 (필수 입력) — 프라이머리 완화, 입체감 */
.modal-form-group {
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border-divider);
  background: color-mix(in srgb, var(--color-brand-primary) 4%, var(--color-modal-bg));
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  transition: box-shadow 160ms ease;
}

/* 폼 그룹 (선택 입력) — 보색 톤 */
.modal-form-group--complement {
  background: color-mix(in srgb, var(--color-brand-complement) 6%, var(--color-modal-bg));
}

/* 날짜/시간 옵션 행 — 달력·타임스크롤 등이 들어가는 행 (DS 볼록 inset) */
.modal-option-row {
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border-divider);
  background: color-mix(in srgb, var(--color-brand-primary) 4%, var(--color-modal-bg));
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06);
  transition: box-shadow 160ms ease;
}

.modal-option-row:hover {
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.35),
    inset 0 2px 6px rgba(255, 255, 255, 0.1),
    0 2px 6px rgba(0, 0, 0, 0.08);
}

.modal-option-row:active {
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.05);
}

.modal-option-row--disabled {
  cursor: not-allowed;
  opacity: 0.6;
  pointer-events: none;
}

.modal-option-row--disabled:hover {
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06);
}

/* ========== 단일 선택 버튼 (고등/중등/학년) — 차시 블록 색상 재활용, 인풋 높이 맞춤 ========== */
.ds-choice-btn {
  height: 36px;
  min-width: 0;
  padding: 0 var(--space-3);
  font-size: 13px;
  font-weight: 600;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background 160ms ease, box-shadow 160ms ease, transform 100ms ease;
  color: var(--color-text-primary);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.25),
    inset 0 2px 4px rgba(255, 255, 255, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04);
}

.ds-choice-btn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 6px rgba(255, 255, 255, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.06);
}

.ds-choice-btn:active:not(:disabled) {
  transform: translateY(0);
}

/* 고등·1,2,3 학년 — primary 톤 (차시 N차시와 동일) */
.ds-choice-btn--primary {
  background: color-mix(in srgb, var(--color-brand-primary) 12%, var(--scale-Neutral0, #fff));
}

.ds-choice-btn--primary:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-brand-primary) 18%, var(--scale-Neutral0, #fff));
}

.ds-choice-btn--primary.is-selected {
  background: color-mix(in srgb, var(--color-brand-primary) 22%, var(--scale-Neutral0, #fff));
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 0 0 2px color-mix(in srgb, var(--color-brand-primary) 25%, transparent);
}

/* 중등 — 보색 톤 (차시 보강과 동일) */
.ds-choice-btn--complement {
  background: color-mix(in srgb, var(--color-brand-complement) 12%, var(--scale-Neutral0, #fff));
}

.ds-choice-btn--complement:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-brand-complement) 18%, var(--scale-Neutral0, #fff));
}

.ds-choice-btn--complement.is-selected {
  background: color-mix(in srgb, var(--color-brand-complement) 22%, var(--scale-Neutral0, #fff));
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.08),
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 0 0 2px color-mix(in srgb, var(--color-brand-complement) 25%, transparent);
}

.ds-choice-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ========== 성별 버튼 (학생 모달 전용) — 남자 파랑, 여자 분홍 ========== */
.student-gender-btn {
  height: 36px;
  min-width: 0;
  padding: 0 var(--space-3);
  font-size: 13px;
  font-weight: 600;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background 160ms ease, color 160ms ease, box-shadow 160ms ease;
  background: color-mix(in srgb, var(--color-border-divider) 8%, var(--color-bg-surface));
  color: var(--color-text-secondary);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
    inset 0 2px 4px rgba(0, 0, 0, 0.04);
}

.student-gender-btn:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-border-divider) 14%, var(--color-bg-surface));
  color: var(--color-text-primary);
}

.student-gender-btn--m.is-selected {
  background: #2563eb;
  color: #fff;
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(37, 99, 235, 0.3);
}

.student-gender-btn--f.is-selected {
  background: #db2777;
  color: #fff;
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(219, 39, 119, 0.3);
}

.student-gender-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* 모달 내 입력창 — 전역 inset 적용, 모달 배경에 맞게 보정만 */
.modal-body .ds-input,
.modal-body .ds-select,
.modal-body .ds-textarea {
  /* 전역 input.css inset 유지, 모달 배경 대비만 살짝 */
  background: color-mix(in srgb, var(--color-border-divider) 12%, var(--color-modal-bg));
}
