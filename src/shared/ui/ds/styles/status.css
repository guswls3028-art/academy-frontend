/* ============================================================================
 * DS STATUS BADGE — 전역 SSOT (단일 진실)
 * - 사이즈: 1ch / 2ch 딱 2종. 색상은 아래 4톤만 사용 (하드코딩 금지)
 * - 긍정(승인·성공·활성) → success (초록)
 * - 비활·폐기·비활성화 → neutral (회색/검정계열)
 * - 위험·금지 → danger (빨강)
 * - 경고·주의 → warning (노랑)
 * - data-status: active | inactive | archived
 * - data-tone: success | danger | warning | primary | neutral
 * ============================================================================ */

/* ---- 사이즈 SSOT: 2글자(기본) / 1글자(--1ch) ---- */
.ds-status-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
  border: none;
  border-radius: var(--radius-md);
  white-space: nowrap;
  user-select: none;
}

/* 1글자용 — 출결 short·매트릭스 셀 등 */
.ds-status-badge--1ch {
  min-width: 1.25rem;
  padding: 2px 6px;
  font-size: 10px;
  font-weight: 600;
  border-radius: var(--radius-sm, 4px);
}

/* 클릭 가능한 뱃지(토글 등) */
button.ds-status-badge {
  cursor: pointer;
  transition: opacity 160ms ease, transform 100ms ease;
}
button.ds-status-badge:hover:not(:disabled) {
  opacity: 0.92;
}
button.ds-status-badge:active:not(:disabled) {
  transform: scale(0.98);
}
button.ds-status-badge:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ---- data-status: 활성(초록) / 비활·폐기(회색) / 종료(회색) ---- */
.ds-status-badge[data-status="active"] {
  background: var(--color-success);
  color: #fff;
}

.ds-status-badge[data-status="inactive"] {
  background: var(--status-badge-neutral-bg, color-mix(in srgb, var(--color-border-divider) 22%, var(--color-bg-surface)));
  color: var(--status-badge-neutral-text, var(--color-text-secondary));
}

.ds-status-badge[data-status="archived"] {
  background: var(--status-badge-neutral-bg, color-mix(in srgb, var(--color-border-divider) 22%, var(--color-bg-surface)));
  color: var(--status-badge-neutral-text, var(--color-text-secondary));
}

/* ---- data-tone: 공용 4톤 (하드코딩 대신 반드시 사용) ---- */
.ds-status-badge[data-tone="success"] {
  background: var(--color-success);
  color: #fff;
}

.ds-status-badge[data-tone="danger"] {
  background: var(--color-danger);
  color: #fff;
}

.ds-status-badge[data-tone="warning"] {
  background: var(--color-warning);
  color: #fff;
}

.ds-status-badge[data-tone="primary"] {
  background: var(--color-brand-primary);
  color: #fff;
}

.ds-status-badge[data-tone="neutral"] {
  background: var(--status-badge-neutral-bg, color-mix(in srgb, var(--color-border-divider) 22%, var(--color-bg-surface)));
  color: var(--status-badge-neutral-text, var(--color-text-secondary));
}

/* 톤 미지정 시 기본(neutral) */
.ds-status-badge:not([data-status]):not([data-tone]) {
  background: var(--status-badge-neutral-bg, color-mix(in srgb, var(--color-border-divider) 22%, var(--color-bg-surface)));
  color: var(--status-badge-neutral-text, var(--color-text-secondary));
}

/* ============================================================================
 * 예외: 클릭 가능한 상태 뱃지 (학생 도메인 등) — 버튼과 동일 디자인(연한 톤)
 * - 활성: 초록 solid 없음 → 연한 success 톤, hover 시 색 강해짐
 * - 비활성: 연한 neutral, hover 시 강해짐
 * - 색상 톤으로만 일반 상태 뱃지와 구분
 * ============================================================================ */
.ds-status-badge--action {
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.25),
    inset 0 2px 4px rgba(255, 255, 255, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04);
  transition:
    background 160ms ease,
    color 160ms ease,
    box-shadow 160ms ease,
    transform 100ms ease;
}
.ds-status-badge--action:hover:not(:disabled) {
  opacity: 1;
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
    inset 0 2px 6px rgba(255, 255, 255, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.06);
}
.ds-status-badge--action:active:not(:disabled) {
  transform: scale(0.98);
}

/* 색상 SSOT: 버튼과 동일 톤 — 연한 success/neutral, hover 시 강해짐 (preflight 등 초기화 우선 덮기) */
button.ds-status-badge.ds-status-badge--action[data-status="active"] {
  background: color-mix(in srgb, var(--color-success) 20%, var(--color-bg-surface, #fff)) !important;
  color: var(--color-success) !important;
}
button.ds-status-badge.ds-status-badge--action[data-status="active"]:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-success) 28%, var(--color-bg-surface, #fff)) !important;
  color: var(--color-success) !important;
}

button.ds-status-badge.ds-status-badge--action[data-status="inactive"] {
  background: color-mix(in srgb, var(--color-border-divider) 10%, var(--color-bg-surface)) !important;
  color: var(--color-text-secondary) !important;
}
button.ds-status-badge.ds-status-badge--action[data-status="inactive"]:hover:not(:disabled) {
  background: color-mix(in srgb, var(--color-border-divider) 16%, var(--color-bg-surface)) !important;
  color: var(--color-text-primary) !important;
}
