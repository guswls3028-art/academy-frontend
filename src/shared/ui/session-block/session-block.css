/* 차시 블록 전역 — DS(design-system) 토큰만 사용, 모달·세션페이지 완전 동일 디자인·색상 */

:root {
  /* 색상: DS --color-brand-primary / role (모달 색상 = 세션페이지 동일) */
  --session-block-supplement: var(--color-supplement, #0d9488);
  --session-block-add: var(--color-text-muted);

  --session-block-n1-bottom: color-mix(in srgb, var(--color-brand-primary) 45%, transparent);
  /* 밝은 쪽은 DS 고정값(Neutral0)으로 해서 모달·세션페이지 색상 완전 동일 */
  --session-block-n1-bg: linear-gradient(165deg, color-mix(in srgb, var(--color-brand-primary) 14%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--color-brand-primary) 8%, var(--scale-Neutral0)) 100%);
  --session-block-n1-bg-hover: linear-gradient(165deg, color-mix(in srgb, var(--color-brand-primary) 18%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--color-brand-primary) 10%, var(--scale-Neutral0)) 100%);
  --session-block-n1-selected-bottom: color-mix(in srgb, var(--color-brand-primary) 55%, transparent);
  --session-block-n1-selected-bg: linear-gradient(165deg, color-mix(in srgb, var(--color-brand-primary) 22%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--color-brand-primary) 12%, var(--scale-Neutral0)) 100%);

  --session-block-supplement-bottom: color-mix(in srgb, var(--session-block-supplement) 45%, transparent);
  --session-block-supplement-bg: linear-gradient(165deg, color-mix(in srgb, var(--session-block-supplement) 14%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--session-block-supplement) 8%, var(--scale-Neutral0)) 100%);
  --session-block-supplement-bg-hover: linear-gradient(165deg, color-mix(in srgb, var(--session-block-supplement) 18%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--session-block-supplement) 10%, var(--scale-Neutral0)) 100%);
  --session-block-supplement-selected-bottom: color-mix(in srgb, var(--session-block-supplement) 55%, transparent);
  --session-block-supplement-selected-bg: linear-gradient(165deg, color-mix(in srgb, var(--session-block-supplement) 22%, var(--scale-Neutral0)) 0%, color-mix(in srgb, var(--session-block-supplement) 12%, var(--scale-Neutral0)) 100%);

  /* 디자인: DS radius·elevation·spacing */
  --session-block-radius: var(--radius-md);
  --session-block-highlight: rgba(255, 255, 255, 0.12);
  --session-block-shadow-subtle: rgba(0, 0, 0, 0.18);
  --session-block-shadow-soft: var(--elevation-1);
  --session-block-bottom-px: 3px;
  --session-block-drop: 4px 10px;
  --session-block-bottom-px-hover: 4px;
  --session-block-drop-hover: 6px 14px;
  --session-block-bottom-px-active: 1px;
  --session-block-drop-active: 2px 6px;
}

/* ----- 공통 블록 (모달·세션 동일 구조, 변수만 사용) ----- */
.session-block {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  text-align: left;
  border-radius: var(--session-block-radius);
  cursor: pointer;
  border: 2px solid transparent;
  transition:
    transform 180ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    box-shadow 180ms ease,
    border-color 160ms ease,
    background 160ms ease;
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px) 0 0 var(--session-block-bottom, var(--session-block-shadow-subtle)),
    0 var(--session-block-drop) var(--session-block-shadow-soft);
  text-decoration: none;
  color: inherit;
}

.session-block:hover {
  transform: translateY(-2px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-hover) 0 0 var(--session-block-bottom, var(--session-block-shadow-subtle)),
    0 var(--session-block-drop-hover) var(--session-block-shadow-soft);
}

.session-block:active {
  transform: translateY(3px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-active) 0 0 var(--session-block-bottom, var(--session-block-shadow-subtle)),
    0 var(--session-block-drop-active) var(--session-block-shadow-soft);
}

/* ----- 비율 16:9, 기본(모달) 크기 ----- */
.session-block {
  aspect-ratio: 16 / 9;
  min-height: 40px;
  padding: var(--space-3) var(--space-5);
}

/* ----- 컴팩트(세션페이지) — 모달과 동일 디자인·동일 색상, 16:9, DS spacing으로 크기 확대 ----- */
.session-block--compact {
  /* 16:9, 세션 내 블록 크기 키움 (DS --space-* 기준) */
  min-width: 128px;
  width: 128px;
  height: 72px;
  min-height: 72px;
  aspect-ratio: unset;
  padding: var(--space-3) var(--space-4);
  flex: 0 0 auto;
}

/* 세션페이지(compact)에도 모달과 동일 배경 강제 — 전역 button/link 스타일 덮어쓰기 방지 */
.session-block.session-block--compact.session-block--n1 {
  background: var(--session-block-n1-bg);
  color: var(--color-text-primary);
}

.session-block.session-block--compact.session-block--n1:hover {
  background: var(--session-block-n1-bg-hover);
}

.session-block.session-block--compact.session-block--supplement {
  background: var(--session-block-supplement-bg);
  color: var(--color-text-primary);
}

.session-block.session-block--compact.session-block--supplement:hover {
  background: var(--session-block-supplement-bg-hover);
}

.session-block--compact .session-block__title {
  font-size: 14px;
  font-weight: 700;
}

.session-block--compact .session-block__desc {
  margin-top: var(--space-1);
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--color-text-secondary);
  opacity: 0.92;
}

.session-block--compact .session-block__check {
  display: none;
}

/* 컴팩트 호버/액티브 시에도 위에서 덮어쓴 변수로 동일 구조 유지 */
.session-block--compact.session-block:hover {
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-hover) 0 0 var(--session-block-bottom, var(--session-block-shadow-subtle)),
    0 var(--session-block-drop-hover) var(--session-block-shadow-soft);
}

.session-block--compact.session-block:active {
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-active) 0 0 var(--session-block-bottom, var(--session-block-shadow-subtle)),
    0 var(--session-block-drop-active) var(--session-block-shadow-soft);
}

.session-block--compact.session-block--n1.session-block--selected,
.session-block--compact.session-block--selected {
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop) color-mix(in srgb, var(--color-brand-primary) 25%, transparent),
    0 0 0 2px color-mix(in srgb, var(--color-brand-primary) 25%, transparent);
}

.session-block--compact.session-block--supplement.session-block--selected {
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop) color-mix(in srgb, var(--session-block-supplement) 25%, transparent),
    0 0 0 2px color-mix(in srgb, var(--session-block-supplement) 25%, transparent);
}

/* ----- N차시 ----- */
.session-block--n1 {
  --session-block-bottom: var(--session-block-n1-bottom);
  background: var(--session-block-n1-bg);
  color: var(--color-text-primary);
}

.session-block--n1:hover {
  background: var(--session-block-n1-bg-hover);
}

.session-block--n1.session-block--selected {
  border-color: var(--color-brand-primary);
  --session-block-bottom: var(--session-block-n1-selected-bottom);
  background: var(--session-block-n1-selected-bg);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop) color-mix(in srgb, var(--color-brand-primary) 25%, transparent),
    0 0 0 3px color-mix(in srgb, var(--color-brand-primary) 25%, transparent);
}

.session-block--n1.session-block--selected:hover {
  transform: translateY(-2px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-hover) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop-hover) color-mix(in srgb, var(--color-brand-primary) 28%, transparent),
    0 0 0 3px color-mix(in srgb, var(--color-brand-primary) 30%, transparent);
}

.session-block--n1.session-block--selected:active {
  transform: translateY(3px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-active) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop-active) color-mix(in srgb, var(--color-brand-primary) 20%, transparent),
    0 0 0 3px color-mix(in srgb, var(--color-brand-primary) 20%, transparent);
}

/* ----- 보강 ----- */
.session-block--supplement {
  --session-block-bottom: var(--session-block-supplement-bottom);
  background: var(--session-block-supplement-bg);
  color: var(--color-text-primary);
}

.session-block--supplement:hover {
  background: var(--session-block-supplement-bg-hover);
}

.session-block--supplement.session-block--selected {
  border-color: var(--session-block-supplement);
  --session-block-bottom: var(--session-block-supplement-selected-bottom);
  background: var(--session-block-supplement-selected-bg);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop) color-mix(in srgb, var(--session-block-supplement) 25%, transparent),
    0 0 0 3px color-mix(in srgb, var(--session-block-supplement) 25%, transparent);
}

.session-block--supplement.session-block--selected:hover {
  transform: translateY(-2px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-hover) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop-hover) color-mix(in srgb, var(--session-block-supplement) 28%, transparent),
    0 0 0 3px color-mix(in srgb, var(--session-block-supplement) 30%, transparent);
}

.session-block--supplement.session-block--selected:active {
  transform: translateY(3px);
  box-shadow:
    0 1px 0 0 var(--session-block-highlight),
    0 var(--session-block-bottom-px-active) 0 0 var(--session-block-bottom),
    0 var(--session-block-drop-active) color-mix(in srgb, var(--session-block-supplement) 20%, transparent),
    0 0 0 3px color-mix(in srgb, var(--session-block-supplement) 20%, transparent);
}

.session-block--supplement .session-block__check {
  background: var(--session-block-supplement);
}

/* ----- + 차시 추가 ----- */
.session-block--add {
  --session-block-bottom: color-mix(in srgb, var(--session-block-add) 45%, transparent);
  background: linear-gradient(165deg, color-mix(in srgb, var(--session-block-add) 14%, white) 0%, color-mix(in srgb, var(--session-block-add) 8%, white) 100%);
  color: var(--color-text-primary);
  align-items: center;
  justify-content: center;
}

.session-block--add:hover {
  background: linear-gradient(165deg, color-mix(in srgb, var(--session-block-add) 18%, white) 0%, color-mix(in srgb, var(--session-block-add) 10%, white) 100%);
  --session-block-bottom: color-mix(in srgb, var(--session-block-add) 50%, transparent);
}

.session-block--add .session-block__title {
  color: inherit;
  text-shadow: 0 1px 0 var(--session-block-highlight);
}

.session-block--add .session-block__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: inherit;
}

/* ----- 타이틀 / 설명 / 체크 ----- */
.session-block__title {
  font-size: 20px;
  font-weight: 800;
  letter-spacing: -0.02em;
  line-height: 1.2;
  color: inherit;
  text-shadow: 0 1px 0 var(--session-block-highlight);
}

.session-block__desc {
  margin-top: 4px;
  font-size: 12px;
  font-weight: 500;
  color: var(--color-text-secondary);
  opacity: 0.92;
}

/* 모달: 차시/보강 타이틀 크게 + 중앙 정렬 */
.session-block:not(.session-block--compact) {
  align-items: center;
  text-align: center;
}

.session-block:not(.session-block--compact) .session-block__title {
  font-size: clamp(1.5rem, 5vw, 2rem);
  font-weight: 800;
  text-align: center;
}

.session-block:not(.session-block--compact) .session-block__desc {
  font-size: 11px;
  margin-top: 6px;
  opacity: 0.9;
  text-align: center;
}

.session-block__check {
  position: absolute;
  top: var(--space-3);
  right: var(--space-3);
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--color-brand-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  opacity: 0;
  transform: scale(0.8);
  transition: opacity 160ms ease, transform 160ms ease;
}

.session-block--selected .session-block__check {
  opacity: 1;
  transform: scale(1);
}

/* ----- 모달 전용: 날짜/시간 옵션 행 ----- */
.session-option-row {
  box-shadow:
    inset 0 1px 0 var(--session-block-highlight),
    0 2px 4px var(--session-block-shadow-soft) !important;
  transition: box-shadow 160ms ease;
}

.session-option-row:hover {
  box-shadow:
    inset 0 1px 0 var(--session-block-highlight),
    0 3px 8px var(--session-block-shadow-soft) !important;
}

.session-option-row:active {
  box-shadow:
    inset 0 1px 2px var(--session-block-shadow-subtle),
    0 1px 3px var(--session-block-shadow-soft) !important;
}
